<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Jasmine Spec Runner</title>
        
        <!-- Testrails dependencies -->
        <script src="../../js/vendor/jquery-1.10.2.min.js"></script>
        <script src="../../js/vendor/lodash.underscore-2.2.1.min.js"></script>
        <script src="../../js/vendor/backbone.min.js"></script>
        <script src="../../js/vendor/backbone.marionette-1.2.1.min.js"></script>
        
        <!-- Testrails sources -->
        <script src="harness.js"></script>
        <script src="../../js/modules/app.model.definition.js"></script>
        <script src="../../js/modules/diagram.model.definition.js"></script>
        <script src="../../js/modules/diagram.model.js"></script>
        
        <!--Jasmine includes -->
        <link rel="stylesheet" type="text/css" href="jasmine-1.3.1/jasmine.css">
        <script type="text/javascript" src="jasmine-1.3.1/jasmine.js"></script>
        <script type="text/javascript" src="jasmine-1.3.1/jasmine-html.js"></script>
        
        <!-- Specs -->
        <script src="../specs/diagram.model.js"></script>
        
        <script type="text/javascript">
            (function() {
                var jasmineEnv = jasmine.getEnv();
                jasmineEnv.updateInterval = 1000;

                var htmlReporter = new jasmine.HtmlReporter();

                jasmineEnv.addReporter(htmlReporter);

                jasmineEnv.specFilter = function(spec) {
                    return htmlReporter.specFilter(spec);
                };

                var currentWindowOnload = window.onload;

                window.onload = function() {
                    if (currentWindowOnload) {
                        currentWindowOnload();
                    }
                    execJasmine();
                };

                function execJasmine() {
                    jasmineEnv.execute();
                    
                    //setTimeout(function () { location.reload(true); }, 2000);
                }

            })();
        </script>
    </head>
    <body>
    </body>
</html>